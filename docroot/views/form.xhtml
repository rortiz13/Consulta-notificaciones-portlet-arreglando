<?xml version="1.0"?>

<f:view xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">
	<h:head />
	<h:body>
		<h:form id="registro">
		<p:panel header="Registro Notificaciones">
		<p:panelGrid columns="2">
			<h:outputText value="Ciudad"/>
			<p:selectOneMenu required="true" id="ciudad" value="#{Notificacionbean.ciudadSeleccionada}">
							<f:selectItem itemLabel="#{i18n['seleccione']}" />
							<f:selectItems value="#{Notificacionbean.ciudadesItems}" />
						<!--  	<p:ajax listener="#{Notificacionbean.filtrarEntidades}" update="corporacion"/>  -->
							
			</p:selectOneMenu>
			<h:outputText value="Corporacion o Especialidad" />
			<p:selectOneMenu id="corporacion" value="#{Notificacionbean.idRelacionEntidad}" size="140" required="true" requiredMessage="Es necesario escoger una Corporacion o Especialidad">
				<f:selectItem itemLabel="Seleccione " itemValue="" size="140" />  
	            <f:selectItems value="#{Notificacionbean.idRelacionEntidades}" var="slectRela" itemLabel="#{slectRela.nombre}"  itemValue="#{slectRela.codigo}"/>
			</p:selectOneMenu> 
			<h:outputText value="Tipo de Actuacion" />
			<p:selectOneMenu value="#{Notificacionbean.idNotificacionTipo}" required="true" requiredMessage="Es necesario escoger un Tipo de actuacion ">
				<f:selectItem itemLabel="Seleccione " itemValue="" size="40" />  
	            <f:selectItems value="#{Notificacionbean.idNotificacionTipos}" var="selecTipo" itemLabel="#{selecTipo.nombre}" itemValue="#{selecTipo.codigo}" />
			</p:selectOneMenu> 
			<h:outputText value="Codigo " />
			<p:inputMask value="#{Notificacionbean.codigo}" mask="9?9999999999999" maxlength="15" size="40" required="true" requiredMessage="Es necesario digitar un Codigo"/> 
			<p:commandButton ajax="false" action="#{Notificacionbean.enviarNotificacion}" value="Guardar" ></p:commandButton>
			<p:button outcome="view" value="Lista Notificaciones"></p:button>
		</p:panelGrid>		
		</p:panel>
		<h:messages/>
		</h:form>
	</h:body>
</f:view>